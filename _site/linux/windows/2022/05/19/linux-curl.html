<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>[cURL] cURL의 옵션을 아라보자! - HeoYou You don't know this?</title> <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> <link rel="stylesheet" href="/assets/dist/css/style.css"> <!-- <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_big-stone.min.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_white.min.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-base16.dark.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-github.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>[cURL] cURL의 옵션을 아라보자! | HeoYou You don’t know this?</title> <meta name="generator" content="Jekyll v3.9.1" /> <meta property="og:title" content="[cURL] cURL의 옵션을 아라보자!" /> <meta name="author" content="HeoYou" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Intro" /> <meta property="og:description" content="Intro" /> <link rel="canonical" href="http://localhost:4000/linux/windows/2022/05/19/linux-curl.html" /> <meta property="og:url" content="http://localhost:4000/linux/windows/2022/05/19/linux-curl.html" /> <meta property="og:site_name" content="HeoYou You don’t know this?" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-05-19T00:00:00+09:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="[cURL] cURL의 옵션을 아라보자!" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HeoYou"},"dateModified":"2022-05-19T00:00:00+09:00","datePublished":"2022-05-19T00:00:00+09:00","description":"Intro","headline":"[cURL] cURL의 옵션을 아라보자!","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/linux/windows/2022/05/19/linux-curl.html"},"url":"http://localhost:4000/linux/windows/2022/05/19/linux-curl.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="content"> <header> <div class="main"> <a href="http://localhost:4000/">HeoYou You don't know this?</a> </div> <nav> <a class='' href="/">Home</a> <a class='' href="/archives.html"> Archives</a> <a class='' href="/about.html">About</a> </nav> </header> <hr class="light-hr"> <main> <div class="title"> <h1 class="title">[cURL] cURL의 옵션을 아라보자!</h1> <div class="meta"> <time datetime="2022-05-19">2022 05 19</time> </div> </div> <hr class="no-margin light-hr "> <h2 id="intro">Intro</h2> <p>기존의 웹으로 관리하던 배치 솔루션을 사내 배치 관리 솔루션으로 옮겨야한다. 그런데 배치 관리 솔루션은 쉘로 만들어져있다. 쉘을 이용해야한다.</p> <p>MSA형태로 만들어진 솔루션에 각 모듈마다 REST API를 재공한다. 그렇다는건? 그냥 API호출로만 해결 할 수 있다고 생각한다. 그래서 API를 호출하기 위해 curl을 알아보았다.</p> <h2 id="curl">cURL</h2> <p>서버와 통신할 수 있는 명령어 툴이다.</p> <p>다양한 프로토콜을 지원한다.(DICT, FILE, FTP, FTPS, Gopher, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, Telnet, TFTP) 그냥 url을 이용한다면 모든 다 할수 있다고 보면된다. SSL인증도 지원한다.</p> <p>나는 REST API를 사용하기 위해 cURL을 정리할 것이다.</p> <h3 id="option">option</h3> <table> <thead> <tr> <th>short</th> <th>long</th> <th>설명</th> <th>비고</th> </tr> </thead> <tbody> <tr> <td>-k</td> <td>–insecure</td> <td>https 사이트를 SSL certificate 검증없이 연결한다.</td> <td>wget 의 –no-check-certificate 과 비슷한 역할 수행</td> </tr> <tr> <td>-l</td> <td>–head</td> <td>HTTP header 만 보여주고 content 는 표시하지 않는다</td> <td> </td> </tr> <tr> <td>-D</td> <td>–dump-header [file]</td> <td>[file] 에 HTTP header 를 기록한다.</td> <td> </td> </tr> <tr> <td>-L</td> <td>–location</td> <td>서버에서 HTTP 301이나 HTTP 302 응답이 왔을 경우 redirection URL 로 따라간다.–max-redirs 뒤에 숫자로 redirection 을 몇 번 따라갈지 지정할 수 있다. 기본 값은 50이다.</td> <td>curl -v daum.net 을 실행하면 결과값으로 다음과 같이 HTTP 302 가 리턴된다.&lt; HTTP/1.1 302 Object Moved&lt; Location: http://www.daum.net/-L 옵션을 추가하면 www.daum.net 으로 재접속하여 결과를 받아오게 된다.</td> </tr> <tr> <td>-d</td> <td>–data</td> <td>HTTP Post data</td> <td>FORM 을 POST 하는 HTTP나 JSON 으로 데이타를 주고받는 REST 기반의 웹서비스 디버깅시 유용한 옵션이다</td> </tr> <tr> <td>-v</td> <td>–verbose</td> <td>동작하면서 자세한 옵션을 출력한다.</td> <td> </td> </tr> <tr> <td>-J</td> <td>–remote-header-name</td> <td>어떤 웹서비스는 파일 다운로드시 Content-Disposition Header 를 파싱해야 정확한 파일이름을 알 수 있을 경우가 있다. -J 옵션을 주면 헤더에 있는 파일 이름으로 저장한다.</td> <td>curl 7.20 이상부터 추가된 옵션</td> </tr> <tr> <td>-o</td> <td>–output FILE</td> <td>curl 은 remote 에서 받아온 데이타를 기본적으로는 콘솔에 출력한다. -o 옵션 뒤에 FILE 을 적어주면 해당 FILE 로 저장한다. (download 시 유용)</td> <td> </td> </tr> <tr> <td>-O</td> <td>–remote-name</td> <td>file 저장시 remote 의 file 이름으로 저장한다. -o 옵션보다 편리하다.</td> <td> </td> </tr> <tr> <td>-s</td> <td>–silent</td> <td>정숙 모드. 진행 내역이나 메시지등을 출력하지 않는다. -o 옵션으로 remote data 도 /dev/null 로 보내면 결과물도 출력되지 않는다</td> <td>HTTP response code 만 가져오거나 할 경우 유리</td> </tr> <tr> <td>-X</td> <td>–request</td> <td>Request 시 사용할 method 종류(GET, POST, PUT, PATCH, DELETE) 를 기술한다.</td> <td> </td> </tr> <tr> <td>-i</td> <td>–include</td> <td>응답에 Content 만 출력하지 않고 서버의 Reponse 도 포함해서 출력한다. (디버깅에 유용)</td> <td> </td> </tr> </tbody> </table> <p><br /><br /> <strong>내가 자주 사용하게 될 것은 -s -S -X 이정도 일것같다.</strong></p> <p><strong>RestAPI에서 JSON형식으로 응답을 주면 jq를 사용해서 데이터를 다루려고한다.</strong></p> <div class="post-tags"> <nav class="nav-post-tags-list"> <ul class="tags"> <li><a href="/category/linux/">Linux</a></li> <li><a href="/category/windows/">Windows</a></li> <li><a href="/tag/tip/">Tip</a></li> </ul> </nav> </div> </main> <footer> <hr class="footer-hr"> <div class="ui-flex"> <div class='wrapper-footer'> © 2022 HeoYou You don't know this? | Made with <a href="https://github.com/slashformotion/jekyll-archie">Jekyll-Archie</a> and <a href="https://jekyllrb.com">Jekyll</a> </div> </div> </footer> </div> </body> </html>
