<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration) - HeoYou You don't know this?</title> <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> <link rel="stylesheet" href="/assets/dist/css/style.css"> <!-- <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_big-stone.min.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_white.min.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-base16.dark.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-github.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration) | HeoYou You don’t know this?</title> <meta name="generator" content="Jekyll v3.9.1" /> <meta property="og:title" content="[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration)" /> <meta name="author" content="HeoYou" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Intro Component vs Comfiguration ~" /> <meta property="og:description" content="Intro Component vs Comfiguration ~" /> <link rel="canonical" href="http://localhost:4000/spring%20boot/spring%20framework/2022/01/31/spring-boot-config-02-Configuration-properties.html" /> <meta property="og:url" content="http://localhost:4000/spring%20boot/spring%20framework/2022/01/31/spring-boot-config-02-Configuration-properties.html" /> <meta property="og:site_name" content="HeoYou You don’t know this?" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-01-31T00:00:00+09:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HeoYou"},"dateModified":"2022-01-31T00:00:00+09:00","datePublished":"2022-01-31T00:00:00+09:00","description":"Intro Component vs Comfiguration ~","headline":"[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/spring%20boot/spring%20framework/2022/01/31/spring-boot-config-02-Configuration-properties.html"},"url":"http://localhost:4000/spring%20boot/spring%20framework/2022/01/31/spring-boot-config-02-Configuration-properties.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="content"> <header> <div class="main"> <a href="http://localhost:4000/">HeoYou You don't know this?</a> </div> <nav> <a class='' href="/">Home</a> <a class='' href="/archives.html"> Archives</a> <a class='' href="/about.html">About</a> </nav> </header> <hr class="light-hr"> <main> <div class="title"> <h1 class="title">[Spring-Boot] Spring-Boot 설정을 아라보자_02(@Component vs Configuration)</h1> <div class="meta"> <time datetime="2022-01-31">2022 01 31</time> </div> </div> <hr class="no-margin light-hr "> <h2 id="intro">Intro</h2> <p>Component vs Comfiguration ~</p> <h2 id="빈을-만드는-방법">빈을 만드는 방법</h2> <h3 id="1-component">1. @Component</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BubbleSort</span> <span class="o">&lt;</span><span class="no">T</span> <span class="kd">extends</span> <span class="nc">Comparable</span><span class="o">&gt;{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">sort</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">){</span>
      <span class="nc">List</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">output</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="n">list</span><span class="o">)</span>
      <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="2-configuration">2. @Configuration</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Config</span> <span class="o">{</span>

  <span class="nd">@Bean</span>
  <span class="kd">public</span> <span class="nc">Sort</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">bubbleSort</span><span class="o">()</span>  <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">BubbleSort</span><span class="o">&lt;&gt;();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <ol> <li>보편적으로 빈을 생성하는 방법이다</li> <li>프록시 빈 형태로 빈을 생성한다.</li> </ol> <h3 id="3-component">3. @Component</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Config</span> <span class="o">{</span>

  <span class="nd">@Bean</span>
  <span class="kd">public</span> <span class="nc">Sort</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">bubbleSort</span><span class="o">(){</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">BubbleSort</span><span class="o">&lt;&gt;();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <ol> <li> <p>Lite Mode(경량 빈) 빈 등록 <br /> 기본적으로 빈을 만들게 되면 프록시 빈으로 만든다. 하지만 Lite Mode는 프록시 빈으로 등록하지 않는다. ** 프록시 빈은 따로 알아보자**</p> </li> <li> <p>기본적인 빈들은 AOP에서 사용하는 프록시 빈으로 생성을 한다. 하지만 경량빈은 프록시 빈으로 생성하지 않기 때문에 여러 번을 호출하면 여러개의 인스턴스가 생성된다.</p> </li> <li> <p>일반적으로 AOP의 기능을 사용하려면 프록시 빈으로 생성해야 한다.</p> </li> </ol> <h4 id="왜-lite-mode인가">왜 Lite Mode인가?</h4> <p>일반적으로 프록시 빈을 만들 때 좀더 오랜 시간이 소요 된다. 더빠르게 만들어지기 때문에 Lite Mode이다</p> <h2 id="component-vs-bean">Component vs Bean?</h2> <h3 id="component">@Component</h3> <ul> <li>Class-level annotation(클래스에 등록한다)</li> <li>등록하려는 빈의 클래스 소스가 편집 가능한 경우 사용</li> <li>auto-detection에 걸림</li> </ul> <h3 id="bean">@Bean</h3> <ul> <li>method-level annotaion(메소드에 등록한다)</li> <li>좀 더 읽기 쉬움</li> <li>인스턴스화 하는 코드가 수동으로 작성됨(ex. new를 사용해 인스턴스를 만든다.)</li> <li>빈의 인스턴스 코드와 클래스 정의가 분리된 구조</li> <li>따라서 외부 라이브러리, 써드 파티 클래스도 빈으로 등록 가능</li> </ul> <h2 id="component-stereotype-annotaions">Component: Stereotype Annotaions</h2> <p>컴포넌트에 해당하는 스테레오 타입 어노테이션들</p> <ul> <li>@Controller</li> <li>@SErvice</li> <li>@Repository</li> </ul> <h2 id="configuration">@Configuration</h2> <p>이 클래스는 각종 빈 <strong>설정</strong>을 담고 있다. <br /> 결국 @Configuration 안에도 @Component가 들어있다.</p> <ol> <li>@SpringBootApplication 이 컴퓨넌트 스캔을 통해 @Configuration을 찾아냄</li> <li>안의 빈 설정(메소드)을 읽어서 스프링 컨테이너에 등록</li> <li>필요한 곳에 주입</li> <li>또는 각종 스프링 인터페이스의 구현에 함께 활용</li> </ol> <h2 id="결론-">결론 !!!</h2> <p>어노테이션이 의도에 맞게 사용되었는지 잘 봐주자</p> <ul> <li>빈 설정은 @Configuration, 클래스 등록은 @Component</li> <li>정확한 목적을 모르고 쓰면 “잘 모르겠는데 어쨌든 돌아가요” 시간폭탄</li> <li>IDE가 노란 줄 그어주면 <ul> <li>잘 돌아가네</li> <li>수정 할 곳이 있다.</li> </ul> </li> </ul> <div class="post-tags"> <nav class="nav-post-tags-list"> <ul class="tags"> <li><a href="/category/spring-boot/">Spring boot</a></li> <li><a href="/category/spring-framework/">Spring Framework</a></li> <li><a href="/tag/configuration-properties/">Configuration Properties</a></li> </ul> </nav> </div> </main> <footer> <hr class="footer-hr"> <div class="ui-flex"> <div class='wrapper-footer'> © 2022 HeoYou You don't know this? | Made with <a href="https://github.com/slashformotion/jekyll-archie">Jekyll-Archie</a> and <a href="https://jekyllrb.com">Jekyll</a> </div> </div> </footer> </div> </body> </html>
