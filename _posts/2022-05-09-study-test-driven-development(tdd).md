---
layout: post
title: "[TDD]Test Driven Development"
tags: 
  - tdd
category:
  - study
---

## Intro

spring 강의를 듣는중에 TDD에 대한 설명이 나온다 정리해보자

## TDD??

테스트 주도 개발 기법
- 프로그램의 설계와 구현, 사고의 흐름을 테스트 중심으로 생각하는 개발 방법
- 개발 순서의 변화
  - as-is: 구현한다 -> 테스트한다
  - to-be: 테스트를 만든다 -> 구현한다
- 주요 키워드: 익스트림 프로그래밍(XP??이건뭐지 검색해봐야겠다), 애자일, 폭포수, Test-First Programming

## TDD의 개발 사이클
### RED-GREEN-REFACTOR
1. RED: (실패하는) 테스트를 짠다.(요구사항의 명세)
2. GREEN: 테스트를 성공시킨다.(구현)
3. REFACTOR: 구현 코드를 고도화(리팩토링)한다.

![image](https://user-images.githubusercontent.com/51642448/167434704-64942a75-fc70-4c7e-89ff-12dceb72cdda.png)

### Given-When-Then
테스트의 구조를 표현하는 방법(a.k.a 3A, Arrange - Act - Assert)
- Given(Arrange): 상태(state)의 정의 - 테스트를 수행할 때 전제 조건
- When(Act): 동작 - 테스트 실행
- Then(Assert): 검증 - 동작의 결과(actual) vs. 예상값(expected)

![image](https://user-images.githubusercontent.com/51642448/167435597-2c0c03d6-d286-4645-adbb-b707520c7004.png)

## 왜 TDD를 사용해야 하지??
- 내가 지금 뭘 하려는지 명확히 안다는 사실을, 스스로 지속적으로 확인한다.(테스트를 먼저 작성해서 테스트를 확인하기 위한 구현을 하면서 어떤걸 하는지 명확히 안다.)
  - 개발이 지연되는 이유 중 하나는 막막해서 멍때리기 때문
- 내가 지금 뭘 하려는지 명확히 안다는 사실을 동료와 소스코드로 공유하고 소통(코드 리뷰)한다.
  - as-is 1: 개발 계획을 별도의 문서로 공유함
  - as-is 2: 개발 계획을 구현 코드로 공유함
  - to-be: 개발 계획을 테스트 코드로 공유함


## 최고의 효율로 테스트 개발을 하려면
TDD가 기존 개발 방식보다 효율적이기 위해서는!
- 테스트 설계 흐름에 익숙해야 한다.
  - 사람의 요구사항을 프로그램이 할 수 있는 기능으로 변환
  - 기능을 단위 기능으로 세분화
  - 기능의 관계와 상호작용을 설계하기
- 테스트 작성 기술에 익숙해야 한다.

결론! 계속, 꾸준히 많이 동료와 함께 해야한다!


## 막연한 사람을 위한 가이드
### 테스트 내용의 발전 과정
1. 메인 요구사항의 기본 목표 위주로 우선 테스트 작성
  - 날짜를 yyyymmdd포맥으로 입력하면, 정산일(D+3)을 계산해준다.

2. 메인 요구사항 기분 + 세부 목표를 테스트로 작성
   - 날짜를 yyyymmdd포맷으로 입력하면, 정산일(D+3)을 계산해준다
   - 입력값이 없으면, 사용자에게 적절한 경고를 표시해준다.
   - 2000.01.01 이전 날짜 입력은, 최초 정산일(2000.01.01)을 출력해준다.
   - 매월 말일은, 빠른 정산일(D+2)을 계산해준다.

3. 메인 요구사항 기본 + 세부 + 더욱 구체적인 기능적 고려요소
   - yyyy-mm-dd포맷으로 입력하면??
   - null? " "?? ""??
   - 매월 말일은 빠른 정산일(D+2)을 계산해준다.
  다양한 엣지케이스에 대한 테스트를 만든다.


## Reference
