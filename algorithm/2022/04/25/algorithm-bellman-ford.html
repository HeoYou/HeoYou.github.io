<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>[Algorithm] Bellman-ford - HeoYou You don't know this?</title> <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> <link rel="stylesheet" href="/assets/dist/css/style.css"> <!-- <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_big-stone.min.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_white.min.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-base16.dark.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-github.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>[Algorithm] Bellman-ford | HeoYou You don’t know this?</title> <meta name="generator" content="Jekyll v3.9.1" /> <meta property="og:title" content="[Algorithm] Bellman-ford" /> <meta name="author" content="HeoYou" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Intro" /> <meta property="og:description" content="Intro" /> <link rel="canonical" href="http://localhost:4000/algorithm/2022/04/25/algorithm-bellman-ford.html" /> <meta property="og:url" content="http://localhost:4000/algorithm/2022/04/25/algorithm-bellman-ford.html" /> <meta property="og:site_name" content="HeoYou You don’t know this?" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-04-25T00:00:00+09:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="[Algorithm] Bellman-ford" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HeoYou"},"dateModified":"2022-04-25T00:00:00+09:00","datePublished":"2022-04-25T00:00:00+09:00","description":"Intro","headline":"[Algorithm] Bellman-ford","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algorithm/2022/04/25/algorithm-bellman-ford.html"},"url":"http://localhost:4000/algorithm/2022/04/25/algorithm-bellman-ford.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="content"> <header> <div class="main"> <a href="http://localhost:4000/">HeoYou You don't know this?</a> </div> <nav> <a class='' href="/">Home</a> <a class='' href="/archives.html"> Archives</a> <a class='' href="/about.html">About</a> </nav> </header> <hr class="light-hr"> <main> <div class="title"> <h1 class="title">[Algorithm] Bellman-ford</h1> <div class="meta"> <time datetime="2022-04-25">2022 04 25</time> </div> </div> <hr class="no-margin light-hr "> <h2 id="intro">Intro</h2> <p>음수가 있는 최단거리를 구하는 방법이 벨만포드이다 벨만 포드를 알아보겠다.</p> <h2 id="bellman-ford">Bellman-ford</h2> <ul> <li>벨만 포드 알고리즘은 한 노드에서 다른 노드까지의 최단 거리를 구하는 알고리즘이다.</li> <li>다익스트라 알고리즘과 가장 큰 차이점은 간선이 <strong>음수</strong>일때 사용할 수 있다.</li> <li>하지만 효율성이 O(VE) 느리다…</li> </ul> <h3 id="1-다익스트라-알고리즘-아이디어">1. 다익스트라 알고리즘 아이디어</h3> <p>매 단계마다 모든 간선을 전부 확인해 노드간의 최단 거리를 구한다.</p> <h4 id="알고리즘-동작-원리">알고리즘 동작 원리</h4> <ol> <li>모든 간선을 전부 확인하면서 노드간의 최단거리를 구한다.</li> <li>음수 간선의 순환을 감지</li> </ol> <p>1 - 2의 과정을 모든 노드에서 반복한다. 그래서 속도가 O(VE)이다.</p> <h3 id="2-구현-방법">2. 구현 방법</h3> <p>최단거리 테이블 최대값으로 초기화</p> <ol> <li>출발 노드 설정</li> <li>최단거리 테이블 초기화</li> <li>다음 과정 반복 <ol> <li>모든 간선을 확인</li> <li>각 간선을 거쳐 다른 노드로 가는 비용을 계산하여 최단 거리 테이블 갱신</li> </ol> </li> </ol> <ul> <li>음수 간선 순환이 발생하는지 체크하고 싶다면 3번 과정을 한번 더 수행한다. 이때 테이블이 갱신된다면 음수의 순환이 발생하고 있다는 것이다.</li> </ul> <p>아래 소스는 백준 11657 문제를 풀이한 내역이다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">input</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">stdin</span><span class="p">.</span><span class="n">readline</span>

<span class="n">v</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())</span>

<span class="n">edges</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">cost</span> <span class="o">=</span> <span class="p">[</span><span class="n">INF</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
  <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())</span>

  <span class="n">edges</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">bellman_ford</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>

  <span class="n">cost</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>

      <span class="n">s</span> <span class="o">=</span> <span class="n">edges</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">e</span> <span class="o">=</span> <span class="n">edges</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
      <span class="n">c</span> <span class="o">=</span> <span class="n">edges</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>

      <span class="k">if</span> <span class="n">cost</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">!=</span> <span class="n">INF</span> <span class="ow">and</span> <span class="n">cost</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">cost</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">+</span> <span class="n">c</span><span class="p">:</span>
        <span class="n">cost</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">cost</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">+</span> <span class="n">c</span>

        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">v</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
          <span class="k">return</span> <span class="bp">True</span>

  <span class="k">return</span> <span class="bp">False</span>

<span class="n">cycle</span> <span class="o">=</span> <span class="n">bellman_ford</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">if</span> <span class="n">cycle</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"-1"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">v</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">INF</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s">"-1"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div> <div class="post-tags"> <nav class="nav-post-tags-list"> <ul class="tags"> <li><a href="/category/algorithm/">Algorithm</a></li> <li><a href="/tag/bellman-ford/">bellman-ford</a></li> <li><a href="/tag/bfs/">BFS</a></li> <li><a href="/tag/graph/">graph</a></li> <li><a href="/tag/python/">python</a></li> </ul> </nav> </div> </main> <footer> <hr class="footer-hr"> <div class="ui-flex"> <div class='wrapper-footer'> © 2022 HeoYou You don't know this? | Made with <a href="https://github.com/slashformotion/jekyll-archie">Jekyll-Archie</a> and <a href="https://jekyllrb.com">Jekyll</a> </div> </div> </footer> </div> </body> </html>
